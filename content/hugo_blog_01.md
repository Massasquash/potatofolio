---
title: "[Hugoブログ]構築をはじめる"
date: 2021-01-08
description: "Hugo導入からテーマ選定、ローカルでの表示まで"
categories:
  - "Hugoブログ"
---

## はじめに
学習・開発ブログとして、Hugoという静的サイトジェネレータを使って、ブログを構築していきます。

導入の目的としては、
- 学習・開発の履歴を残すため気楽にアウトプットできる場所を作りたい
- ローカルで、かつMarkdownで書ける気軽さ
- そのままポートフォリオとしても使えるもの

既存のブログサービス（[Massa - Crieit](https://crieit.net/users/massasquash)）やQiitaも活用しているが、そちらにはまとめた情報をアップして、引き続き活用していきたいと思っています。

### 今回のアジェンダ
Hugo導入からテーマ選定、ローカルでの表示まで。

## Hugoの導入
参考書は、以前に技術書店で購入したコチラ。  
[Hugo で始める静的サイト構築入門~静的サイトジェネレーターで作る自作サイト~ - tucca - BOOTH](https://booth.pm/ja/items/2368187)

ただ実は以前に試した経緯があったので、今回の構築ではHugoのインストールまで済んでいました。  
初期設定から行いたい場合は、他のページを参考にしていただくのが良いかと思います。すみません。

## インストール済Hugoのアップデート
そんな訳で、インストール済みのHugoアップデートから行います。

以下を参照しました。
[Hugoのアップデート方法 | B-log](https://beacats.com/how_to_update_hugo/)


```bash
$ hugo version  // バージョン確認
$ brew upgrade hugo  // アップデートするコマンド
```

## サイトの構築
Hugoのインストールが終わったら、サイトの構築スタートです。

`cd`でサイトを制作したいリポジトリに入って

```
$ hugo new site <site-name>
```

これで`site-name`というディレクトリ直下にサイトの元となるディレクトリ・ファイル群がズラーっと作られます。


## テーマ選び
ブログのテーマを選んで設定していきます。  
[Complete List | Hugo Themes](https://themes.gohugo.io/)

今回この中から「[Mainload](https://github.com/vimux/mainroad/)」というテーマを使わせていただくことにしました。

テーマ決めで意識したことは、ブログ形式というよりはドキュメント形式が良いなというところでした。検索性を良くしたかったです。

欲しい機能として、

- カテゴリとタグ機能
- 検索バー

これに合致するデザインは豊富で、テーマを選ぶのが難しかったのですが、最終的な決め手は

「設定のサンプルコードをそのまま使ってある程度形になっている」「カスタマイズの情報が詳しく書かれているページを見つけた」

というところかもしれません。


## テーマの設定
先ほど作ったディレクトリ直下の`themes`ディレクトリに、githubのリモートリポジトリからテーマをクローンします。

```bash
$ cd themes
$ git clone https://github.com/Vimux/Mainroad.git mainroad
$ rm -rf mainroad/.git
```

こんな感じでテーマを入れます。
参考にした書籍によると、`git submodule`コマンドは理解せず使うとハマりがちなので、`git clone`で入れるようにするのが良さそうでした。

最後のコマンドで、cloneでした時についてくるgitを削除していますね。

次に、`config.tomi`に、

```tomi
theme = "mainroad"
```

と記述します。この`mainroad`は、themesディレクトリにクローンしてきた際に作ったディレクトリ名になります。


## ローカルで出力
これでひとまず、ローカルで確認できるはずです。

```
hugo server -D
```

この`-D`オプションは、ドラフト状態の記事も表示させる、というのをどこかで見かけました。

## おわりに
今回はここまで。
今後、Github pagesを使って公開したり、テーマをカスタマイズしていったりします。